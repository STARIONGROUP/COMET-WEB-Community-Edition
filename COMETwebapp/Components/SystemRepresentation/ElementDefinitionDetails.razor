<!------------------------------------------------------------------------------
// Copyright (c) 2023-2024 Starion Group S.A.
//
//     Authors: Sam Gerené, Alex Vorobiev, Alexander van Delft, Jaime Bernar, Théate Antoine Nabil Abbar
//
//     This file is part of CDP4-COMET WEB Community Edition
//      The CDP4-COMET WEB Community Edition is the Starion Web Application implementation of ECSS-E-TM-10-25 Annex A and Annex C.
//
//     The CDP4-COMET WEB Community Edition is free software; you can redistribute it and/or
//     modify it under the terms of the GNU Affero General Public
//     License as published by the Free Software Foundation; either
//     version 3 of the License, or (at your option) any later version.
//
//     The CDP4-COMET WEB Community Edition is distributed in the hope that it will be useful,
//     but WITHOUT ANY WARRANTY; without even the implied warranty of
//     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
//     Affero General Public License for more details.
//
//     You should have received a copy of the GNU Affero General Public License
//     along with this program. If not, see http://www.gnu.org/licenses/.
------------------------------------------------------------------------------->
@using CDP4Common.SiteDirectoryData;
@using COMET.Web.Common.Extensions;
@using COMETwebapp.Model
@using CDP4Common.EngineeringModelData
@using COMETwebapp.ViewModels.Components.SystemRepresentation.Rows;
@inherits DisposableComponent

@if (this.ViewModel.SelectedSystemNode != null)
{
	<h4>Building Block</h4>
	<div>
		<table class="table">
			<thead>
				<tr>
					<th scope="col">Name</th>
					<th scope="col">Short Name</th>
					<th scope="col">Owner</th>
					<th scope="col">Category</th>
					<th scope="col">Definition</th>
					<th scope="col">Type</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td class="align-middle">
						@this.ViewModel.SelectedSystemNode.Name
					</td>
					<td class="align-middle">
						@this.ViewModel.SelectedSystemNode.ShortName
					</td>
					<td class="align-middle">
					@this.ViewModel.SelectedSystemNode.Owner.ShortName
					</td>
					<td class="align-middle">
						@this.ViewModel.SelectedSystemNode.Category.Select(x => x.Name).AsCommaSeparated()
					</td>
					<td class="align-middle">
						@this.ViewModel.SelectedSystemNode.Definition.Select(x => x.Content).AsCommaSeparated()
					</td>
					<td class="align-middle">
						@this.ViewModel.SelectedSystemNode.GetType().Name
					</td>
				</tr>
			</tbody>
		</table>
<h4>Parameters</h4>
				<DxGrid Data="this.ViewModel.Rows" ColumnResizeMode="GridColumnResizeMode.ColumnsContainer" PageSize="20">
					<Columns>
						<DxGridDataColumn Caption="Name" FieldName="@nameof(ElementDefinitionDetailsRowViewModel.ParameterTypeName)" />
						<DxGridDataColumn Caption="Short Name" FieldName="@nameof(ElementDefinitionDetailsRowViewModel.ShortName)" />
						<DxGridDataColumn Caption="Actual Value" FieldName="@nameof(ElementDefinitionDetailsRowViewModel.ActualValue)" MinWidth="100" />
						<DxGridDataColumn Caption="Published Value" FieldName="@nameof(ElementDefinitionDetailsRowViewModel.PublishedValue)" MinWidth="100" />
						<DxGridDataColumn Caption="Owner" FieldName="@nameof(ElementDefinitionDetailsRowViewModel.Owner)" />
						<DxGridDataColumn Caption="Switch" FieldName="@nameof(ElementDefinitionDetailsRowViewModel.SwitchValue)" />
						<DxGridDataColumn Caption="Model Code" FieldName="@nameof(ElementDefinitionDetailsRowViewModel.ModelCode)" />
					</Columns>
				</DxGrid>
	</div>
}